<div class="min-h-screen gradient-bg relative overflow-hidden">
  
  <!-- Confeti animado -->
  <div *ngIf="showConfetti" class="absolute inset-0 pointer-events-none">
    <div *ngFor="let i of [1,2,3,4,5,6,7,8,9,10]" 
         class="confetti"
         [style.left]="(i * 10) + '%'"
         [style.animation-delay]="(i * 0.3) + 's'">
    </div>
  </div>

  <div class="container-centered py-8 relative z-10">
    
    <!-- Header de √©xito -->
    <div class="text-center mb-16 success-animation">
      <div class="flex items-center justify-center mb-6">
        <div class="bg-green-500 rounded-full p-4 mr-4">
          <span class="text-4xl text-white">‚úÖ</span>
        </div>
        <h1 class="text-4xl md:text-6xl font-bold text-white">¬°Compra Exitosa!</h1>
      </div>
      <p class="text-2xl text-white/80 max-w-3xl mx-auto mb-4">
        ¬°Gracias por tu compra! Tu pedido ha sido procesado correctamente.
      </p>
      <div class="glass-card inline-block">
        <p class="text-white/90 text-lg">
          <strong>N√∫mero de Orden:</strong> #{{ idCarrito }}
        </p>
      </div>
    </div>

    <!-- Bot√≥n de regreso -->
    <div class="mb-12 text-center">
      <button 
        routerLink="/products" 
        class="flex items-center mx-auto glass-button-secondary px-6 py-3 rounded-xl"
      >
        <span class="text-xl mr-2">‚Üê</span>
        Seguir Comprando
      </button>
    </div>

    <!-- Si hay √≠tems en la venta -->
    <div *ngIf="cartItems.length > 0; else noSale" class="space-y-8">
      
      <!-- Resumen simple de la compra -->
      <div class="glass-card max-w-2xl mx-auto">
        <h3 class="text-2xl font-bold text-white text-center mb-6">
          Resumen de tu Compra
        </h3>
        
        <!-- Lista de productos -->
        <div class="space-y-3 mb-6">
          <div 
            *ngFor="let item of cartItems; trackBy: trackByItemId" 
            class="flex justify-between items-center py-2 border-b border-white/10"
          >
            <div class="flex items-center space-x-3">
              <span class="text-white/60">üì¶</span>
              <span class="text-white">{{ item.nombre }} x{{ item.cantidad }}</span>
            </div>
            <span class="text-green-400 font-semibold">
              ${{ (item.precio * item.cantidad) | number:'1.0-0' }}
            </span>
          </div>
        </div>

        <!-- Totales -->
        <div class="space-y-2 pt-4 border-t border-white/20">
          <div class="flex justify-between items-center">
            <span class="text-white/70">Subtotal:</span>
            <span class="text-white font-semibold">${{ getTotal() | number:'1.0-0' }}</span>
          </div>
          <div class="flex justify-between items-center">
            <span class="text-white/70">IVA (19%):</span>
            <span class="text-white font-semibold">${{ (getTotal() * 0.19) | number:'1.0-0' }}</span>
          </div>
          <div class="flex justify-between items-center text-lg font-bold border-t border-white/20 pt-2">
            <span class="text-white">TOTAL:</span>
            <span class="text-green-400">${{ (getTotal() * 1.19) | number:'1.0-0' }}</span>
          </div>
        </div>
      </div>

      <!-- Mensaje de agradecimiento -->
      <div class="text-center py-12">
        <div class="glass-card bg-gradient-to-r from-green-500/20 to-emerald-500/20 border-green-500/30">
          <div class="flex items-center justify-center mb-4">
            <span class="text-3xl mr-3">‚ù§Ô∏è</span>
            <h3 class="text-2xl font-bold text-white">¬°Gracias por elegirnos!</h3>
          </div>
          <p class="text-white/80 text-lg mb-6">
            Tu pedido ser√° procesado y enviado pronto. Te notificaremos cuando est√© en camino.
          </p>
          <div class="flex items-center justify-center space-x-2">
            <span class="text-2xl">‚≠ê</span>
            <span class="text-white/70">¬°Esperamos verte pronto!</span>
            <span class="text-2xl">‚≠ê</span>
          </div>
        </div>
      </div>

      <!-- Botones de acci√≥n -->
      <div class="flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-6">
        <button 
          routerLink="/products"
          class="flex items-center space-x-2 glass-button-primary text-lg font-bold py-4 px-8 rounded-2xl transition-all duration-300 hover:scale-105"
        >
          <span class="text-xl">üõçÔ∏è</span>
          <span>Continuar Comprando</span>
        </button>
        
        <button 
          routerLink="/dashboard"
          class="flex items-center space-x-2 glass-button-secondary text-lg font-bold py-4 px-8 rounded-2xl transition-all duration-300"
        >
          <span>Ver Mi Cuenta</span>
        </button>
      </div>
    </div>

    <!-- Estado sin ventas -->
    <ng-template #noSale>
      <div class="text-center py-20">
        <div class="mb-8">
          <span class="text-8xl text-white/50">‚úÖ</span>
        </div>
        <h3 class="text-3xl font-bold text-white mb-4">No hay venta registrada</h3>
        <p class="text-xl text-white/70 mb-8 max-w-md mx-auto">
          Realiza primero una compra para ver el detalle aqu√≠.
        </p>
        <button 
          routerLink="/products" 
          class="glass-button-primary text-lg font-bold py-4 px-8 rounded-2xl transition-all duration-300 hover:scale-105"
        >
          Explorar Productos
        </button>
      </div>
    </ng-template>
  </div>
</div>